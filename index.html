<!doctype html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>8th Wall Web: Flyer</title>

    <script src="//cdn.8thwall.com/web/aframe/8frame-0.9.0.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script src="cursor-listener.js"></script>
    <script src="cursor-placement.js"></script>

    <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
           See github.com/8thwall/web/xrextras -->
    <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>

    <!-- 8thWall Web - Replace the app key here with your own app key -->
    <script src="//apps.8thwall.com/xrweb?appKey=nU4tikFMQzxYS0MQX60zohDJyxxHemTF77gQgEJGKIO7A9ZGUPGP0mHpBw4GLPqQWxdedZ"></script>

</head>

<body>

<a-scene
       xrweb="disableWorldTracking: true"
        gesture-detector
        xrextras-almost-there
        xrextras-loading
        xrextras-runtime-error>

    <a-assets>
        <!-- Credit to Poly by Google for the model: https://poly.google.com/view/dA5osnS0Rzj -->
        <a-asset-item id="teapot-glb" src="assets/jellyfish-model.glb"></a-asset-item>
    </a-assets>

    <a-camera
            id="camera"
            position="0 0 0"
            raycaster="objects: .cantap"
            cursor="id: 'cur'; fuse: true; fuseTimeout: 1500; rayOrigin: mouse;">
    </a-camera>




    <a-light type="directional" intensity="0.5" position="1 1 1"></a-light>

    <a-light type="ambient" intensity="1"></a-light>


    <!-- Note: "name:" must be set to the name of the image target uploaded to the 8th Wall Console -->
    <a-entity xrextras-named-image-target="name: teapot-target"
              cursor-placement>
        <a-plane
                id="marker"
                class="cantap"
                color="tomato"
                height=".75"
                width="1"
                position="0 0"
                visible="false">
        </a-plane>


        <!-- Add a child entity that can be rotated independently of the image target. -->

        <a-entity gltf-model="#teapot-glb"
                  class="cantap"
                  geometry="primitive: box"
                  id="jellyfish1"
                  rotation="0 0 90"
                  scale=".1 .1 .1"
                  position="-.4 -.3"></a-entity>
        <a-entity gltf-model="#teapot-glb"
                  id="jellyfish2"
                  class="cantap"
                  geometry="primitive: box"
                  rotation="0 0 90"
                  scale=".1 .1 .1"
                  position="-.15 -.3"></a-entity>
        <a-entity gltf-model="#teapot-glb"
                  id="jellyfish3"
                  class="cantap"
                  geometry="primitive: box"
                  rotation="0 0 90"
                  scale=".1 .1 .1"
                  position=".15 -.3"></a-entity>
        <a-entity gltf-model="#teapot-glb"
                  id="jellyfish4"
                  class="cantap"
                  geometry="primitive: box"
                  rotation="0 0 90"
                  scale=".1 .1 .1"
                    position=".4 -.3"></a-entity>
    </a-entity>

    <a-entity
            id="pickedUpJelly"
            gltf-model="#teapot-glb"
            class="cantap"
            geometry="primitive: box"
            rotation="0 -90 90"
            scale="1 1 1"
            visible="false"></a-entity>
</a-scene>

</body>
</html>